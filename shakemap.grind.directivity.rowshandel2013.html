

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>shakemap.grind.directivity.rowshandel2013 &mdash; ShakeMap Documentation  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="ShakeMap Documentation  documentation" href="index.html"/>
        <link rel="up" title="shakemap.grind.directivity" href="shakemap.grind.directivity.html"/>
        <link rel="next" title="shakemap.grind.distance" href="shakemap.grind.distance.html"/>
        <link rel="prev" title="shakemap.grind.directivity.bayless2013" href="shakemap.grind.directivity.bayless2013.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> ShakeMap Documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="manual_index.html">ShakeMap Manual 2.0</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="api_index.html">ShakeMap 4.0 API</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="shakemap.html">shakemap</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="shakemap.gmice.html">shakemap.gmice</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="shakemap.grind.html">shakemap.grind</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="shakemap.grind.conversions.html">shakemap.grind.conversions</a></li>
<li class="toctree-l4"><a class="reference internal" href="shakemap.grind.correlation.html">shakemap.grind.correlation</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="shakemap.grind.directivity.html">shakemap.grind.directivity</a></li>
<li class="toctree-l4"><a class="reference internal" href="shakemap.grind.distance.html">shakemap.grind.distance</a></li>
<li class="toctree-l4"><a class="reference internal" href="shakemap.grind.fault.html">shakemap.grind.fault</a></li>
<li class="toctree-l4"><a class="reference internal" href="shakemap.grind.gmpe2shakemap.html">shakemap.grind.gmpe2shakemap</a></li>
<li class="toctree-l4"><a class="reference internal" href="shakemap.grind.multigmpe.html">shakemap.grind.multigmpe</a></li>
<li class="toctree-l4"><a class="reference internal" href="shakemap.grind.sites.html">shakemap.grind.sites</a></li>
<li class="toctree-l4"><a class="reference internal" href="shakemap.grind.source.html">shakemap.grind.source</a></li>
<li class="toctree-l4"><a class="reference internal" href="shakemap.grind.station.html">shakemap.grind.station</a></li>
<li class="toctree-l4"><a class="reference internal" href="shakemap.grind.zoneconfig.html">shakemap.grind.zoneconfig</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="shakemap.mapping.html">shakemap.mapping</a></li>
<li class="toctree-l3"><a class="reference internal" href="shakemap.transfer.html">shakemap.transfer</a></li>
<li class="toctree-l3"><a class="reference internal" href="shakemap.utils.html">shakemap.utils</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api_index.html#indices-and-tables">Indices and tables</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">ShakeMap Documentation</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="api_index.html">ShakeMap 4.0 API</a> &raquo;</li>
      
          <li><a href="shakemap.html">shakemap</a> &raquo;</li>
      
          <li><a href="shakemap.grind.html">shakemap.grind</a> &raquo;</li>
      
          <li><a href="shakemap.grind.directivity.html">shakemap.grind.directivity</a> &raquo;</li>
      
    <li>shakemap.grind.directivity.rowshandel2013</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/shakemap.grind.directivity.rowshandel2013.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-shakemap.grind.directivity.rowshandel2013">
<span id="shakemap-grind-directivity-rowshandel2013"></span><h1>shakemap.grind.directivity.rowshandel2013<a class="headerlink" href="#module-shakemap.grind.directivity.rowshandel2013" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="shakemap.grind.directivity.rowshandel2013.Rowshandel2013">
<em class="property">class </em><code class="descclassname">shakemap.grind.directivity.rowshandel2013.</code><code class="descname">Rowshandel2013</code><span class="sig-paren">(</span><em>source</em>, <em>lat</em>, <em>lon</em>, <em>dep</em>, <em>dx</em>, <em>T</em>, <em>a_weight=0.5</em>, <em>mtype=1</em>, <em>simpleDT=False</em>, <em>centered=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/shakemap/grind/directivity/rowshandel2013.html#Rowshandel2013"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#shakemap.grind.directivity.rowshandel2013.Rowshandel2013" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="http://docs.python.org/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Implements the Rowshandel (2013) directivity model. Note that the report
provides many options for computing the directivity factor and we have 
also used some coefficients that are unpublished updates by Rowshandel. 
Some of the implementation options are controlled by arguments (e.g., 
mtype).</p>
<p>Fd is the directivity function. One of the options is whether or not to
use the &#8216;centering&#8217; term (the argument is &#8216;centered&#8217; and defaults to 
True). If it is True then</p>
<p>Fd = C1 * (XiPrime - Xic) * LD * DT * WP</p>
<p>otherwise</p>
<p>Fd = (C1 * Xiprime + C2) * LD * DT * WP</p>
<p>where</p>
<ul class="simple">
<li>C1 and C2 are regression coefficients.</li>
<li>XiPrime is a factor that accounts for rupture propagation and slip
direction.</li>
<li>Xic is the centering term.</li>
<li>LD is the rupture length de-normalization factor.</li>
<li>DT is the distance-taper.</li>
<li>WP is the narrow-band multiplier.</li>
</ul>
<p>Note that Fd is intended to be used in GMPEs as:</p>
<p>ln(IM_dir) = ln(IM) + Fd</p>
<p>where</p>
<ul class="simple">
<li>Fd is the directivity effect</li>
<li>IM is the intensity measure predicted by the GMPE.</li>
<li>IM_dir is the directivity-adjusted IM.</li>
</ul>
<dl class="docutils">
<dt>To do:</dt>
<dd><ul class="first last simple">
<li>Add checks on function arguments (e.g., mtype) for valid values.</li>
<li>Add a validation function.</li>
<li>Interpolate periods.</li>
</ul>
</dd>
<dt>References: </dt>
<dd>Rowshandel, B. (2013). Rowshandel’s NGA-West2 directivity model, 
Chapter 3 of PEER Report No. 2013/09, P. Spudich (Editor), Pacific 
Earthquake Engineering Research Center, Berkeley, CA.
<a class="reference external" href="http://peer.berkeley.edu/publications/peer_reports/reports_2013/webPEER-2013-09-Spudich.pdf">[link]</a></dd>
</dl>
<dl class="classmethod">
<dt id="shakemap.grind.directivity.rowshandel2013.Rowshandel2013.fromSites">
<em class="property">classmethod </em><code class="descname">fromSites</code><span class="sig-paren">(</span><em>source</em>, <em>sites</em>, <em>dx</em>, <em>T</em>, <em>a_weight=0.5</em>, <em>mtype=1</em>, <em>simpleDT=False</em>, <em>centered=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/shakemap/grind/directivity/rowshandel2013.html#Rowshandel2013.fromSites"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#shakemap.grind.directivity.rowshandel2013.Rowshandel2013.fromSites" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a rowshandel2013 instance from a sites instance.</p>
<p>Class method for constructing a rowshandel2013 instance from
a sites instance.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>source</strong> &#8211; Source instance.</li>
<li><strong>sites</strong> &#8211; Sites object.</li>
<li><strong>dx</strong> &#8211; Float for target mesh spacing for subfaults in km. The mesh
snaps to the edges of the quadrilaterals so the actual mesh spacing
will not equal this exactly; spacing in x and y will not be equal.</li>
<li><strong>T</strong> &#8211; Period; Currently, only acceptable values are 1, 2, 3, 4, 5, 7.5.</li>
<li><strong>a_weight</strong> &#8211; Weighting factor for how p-dot-q and s-dot-q are averaged; 0 for
only p-dot-q (propagation factor) and 1 for only s-dot-q (slip
factor).</li>
<li><strong>mtype</strong> &#8211; Integer, either 1 or 2; 1 for adding only positive components of dot
products, 2 for adding all components of dot products.</li>
<li><strong>simpleDT</strong> &#8211; Boolean; should the simpler DT equation be used? Usually False.</li>
<li><strong>centered</strong> &#8211; Boolean; should the centered directivity parameter be used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="shakemap.grind.directivity.rowshandel2013.Rowshandel2013.getDT">
<code class="descname">getDT</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/shakemap/grind/directivity/rowshandel2013.html#Rowshandel2013.getDT"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#shakemap.grind.directivity.rowshandel2013.Rowshandel2013.getDT" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Numpy array of the distance taper factor.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="shakemap.grind.directivity.rowshandel2013.Rowshandel2013.getFd">
<code class="descname">getFd</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/shakemap/grind/directivity/rowshandel2013.html#Rowshandel2013.getFd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#shakemap.grind.directivity.rowshandel2013.Rowshandel2013.getFd" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Numpy array of Fd; this is the directivity amplification factor
(log units).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="shakemap.grind.directivity.rowshandel2013.Rowshandel2013.getLD">
<code class="descname">getLD</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/shakemap/grind/directivity/rowshandel2013.html#Rowshandel2013.getLD"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#shakemap.grind.directivity.rowshandel2013.Rowshandel2013.getLD" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Numpy array of the rupture length de-normalization factor.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="shakemap.grind.directivity.rowshandel2013.Rowshandel2013.getWP">
<code class="descname">getWP</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/shakemap/grind/directivity/rowshandel2013.html#Rowshandel2013.getWP"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#shakemap.grind.directivity.rowshandel2013.Rowshandel2013.getWP" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Numpy array of the narrow-band multiplier.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="shakemap.grind.directivity.rowshandel2013.Rowshandel2013.getXiPrime">
<code class="descname">getXiPrime</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/shakemap/grind/directivity/rowshandel2013.html#Rowshandel2013.getXiPrime"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#shakemap.grind.directivity.rowshandel2013.Rowshandel2013.getXiPrime" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Numpy array of Xi&#8217;; this is the variable that accounts for geometric
factors in Fd.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="shakemap.grind.distance.html" class="btn btn-neutral float-right" title="shakemap.grind.distance" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="shakemap.grind.directivity.bayless2013.html" class="btn btn-neutral" title="shakemap.grind.directivity.bayless2013" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>